{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "definitions": {
    "IGeoAltitudeMode": {
      "type": "object",
      "description": "Define how the alititude value in an IGeoPosition alt (altitude) property will be interpreted",
      "properties": {
        "description": "Enumeration of altitude modes",
        "altitudeMode": {
          "enum": ["CLAMP_TO_GROUND", "REALTIVE_TO_GROUND", "ABSOLUTE", "HEIGHT_ABOVE_ELLIPSOID"]
        },
        "required": ["altitudeMode"]
      }
    },
    "IGeoPathMode": {
      "type": "object",
      "description": "Defines how a path will be calculated between each vertice",
      "properties": {
        "description": "Enumeration of path modes",
        "pathMode": {
          "enum": ["RHUMB", "GREAT_CIRCLE", "LINEAR"]
        },
        "required": ["pathMode"]
      }
    },
    "IGeoTimeStamp": {
      "type": "object",
      "description": "Defines a point in time that something occured, was created, or was last updated.",
      "properties": {
        "when": {
          "description": "Value in epoc milliseconds with a GMT 0 offset - ZULU Time",
          "type": "number"
        }
      },
      "required": ["when"]
    },
    "IGeoTimeSpan": {
      "type": "object",
      "description": "Defines a range in time that represents a beginning and end.",
      "properties": {
        "begin": {
          "description": "Starting date time value in epoc milliseconds in UTC with a 0 offset - ZULU Time",
          "type": "number"
        },
        "end": {
          "description": "Ending date time value in epoc milliseconds in UTC with a 0 offset - ZULU Time",
          "type": "number"
        }
      },
      "required": ["begin", "end"]
    },
    "IGeoPosition": {
      "type": "object",
      "description": "Defines a specific geospatial position derived using WGS-84 latitude longitude",
      "properties": {
        "latitude": {
          "description": "Latitude value in degrees decimal (i.e. 23.4567) derived from WGS-84",
          "type": "number",
          "minimum": -90,
          "maximum": 90,
          "default": 0
        },
        "longitude": {
          "type": "number",
          "description": "Longitude value in degrees decimal (i.e. 23.4567) derived from WGS-84",
          "minimum": -180,
          "maximum": 180,
          "default": 0
        },
        "altitude": {
          "type": "number",
          "description": "A value in meters representing the altitude of the associated position.  This will be interpreted base on the altitudeMode provided in the IGeoAltitudeMode enumeration",
          "default": 0
        }
      },
      "required": ["latitude", "longitude", "altitude"]
    },
    "IGeoPositionList": {
      "type": "object",
      "description": "An ordered list of positions representing a 1 or more positions with an associated IGeoAltitudeMode to interpret the altitude values.  In the case of a point, a single position will create a single icon, wheras mulitple positions will create the same icon at multiple positions to be interpreted as a composite feature. For consistency, and IGeoRenderables use an IGeoPositionList even when only containing a single position",
      "allOf": [{
        "$ref": "#/definitions/IGeoAltitudeMode"
      }, {
        "properties": {
          "positions": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/IGeoPosition"
            }
          },
          "required": ["positions"]
        }
      }]
    },
    "IGeoPositionListTime": {
      "type": "object",
      "description": "A position with a timestamp associated to it",
      "allOf": [{
        "$ref": "#/definitions/IGeoPositionList"
      }, {
        "$ref": "#/definitions/IGeoTimeStamp"
      }]
    },
    "IGeoPositionHistory": {
      "type": "object",
      "description": "An ordered collection of IGeoPositionListTime obejcts.  These are the same as IGeoPositionList with the addition of a required timestamp field 'when' indicating the date and time the positions were recorded",
      "properties": {
        "positions": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/IGeoPositionListTime"
          }
        }
      }
    },
    "IGeoCamera": {
      "type": "object",
      "description": "Defines the virtual camera that views the scene. This element defines the position of the camera relative to the Earth's surface as well as the viewing direction of the camera. The camera position is defined by <longitude>, <latitude>, <altitude>, and either <altitudeMode>. The viewing direction of the camera is defined by <heading>, <tilt>, and <roll>. An IGeoCamera provides full six-degrees-of-freedom control over the view, so you can position the Camera in space and then rotate it around the X, Y, and Z axes. Most importantly, you can tilt the camera view so that you're looking above the horizon into the sky. The order of rotation is important. By default, the camera is looking straight down the −Z axis toward the Earth. Before rotations are performed, the camera is translated along the Z axis to <altitude>. The order of transformations is as follows: <altitude> - translate along the Z axis to <altitude><heading> - rotate around the Z axis.<tilt> - rotate around the X axis.<roll> - rotate around the Z axis (again). Note that each time a rotation is applied, two of the camera axes change their orientation.",
      "allOf": [{
        "$ref": "#/definitions/IGeoAltitudeMode"
      }, {
        "$ref": "#/definitions/IGeoPosition"
      }, {
        "properties": {
          "tilt": {
            "type": "number",
            "description": "Rotation, in degrees, of the camera around the X axis. A value of 0 indicates that the view is aimed straight down toward the earth (the most common case). A value for 90 for <tilt> indicates that the view is aimed toward the horizon. Values greater than 90 indicate that the view is pointed up into the sky. Values for <tilt> are clamped at +180 degrees",
            "minimum": 0,
            "maximum": 179
          },
          "roll": {
            "type": "number",
            "minimum": 0,
            "maximum": 179,
            "description": "Rotation, in degrees, of the camera around the Z axis. Values range from −180 to +180 degrees"
          },
          "heading": {
            "type": "number",
            "minimum": 0,
            "maximum": 359,
            "description": "Direction (that is, North, South, East, West), in degrees. Default=0 (North). Values range from 0 to 360 degrees"
          },
          "range": {
            "type": "number",
            "description": "Distance in meters from the point specified by <longitude>, <latitude>, and <altitude> to the LookAt position"
          }
        }
      }],
      "required": ["tilt", "roll", "range", "heading"]
    },
    "IGeoLookAt": {
      "type": "object",
      "description": "The LookAt element positions the 'camera' in relation to the IGeoPosition that is being viewed",
      "allOf": [{
        "$ref": "#/definitions/IGeoAltitudeMode"
      }, {
        "$ref": "#/definitions/IGeoPosition"
      }, {
        "properties": {
          "tilt": {
            "type": "number",
            "description": "Rotation, in degrees, of the camera around the X axis. A value of 0 indicates that the view is aimed straight down toward the earth (the most common case). A value for 90 for <tilt> indicates that the view is aimed toward the horizon. Values greater than 90 indicate that the view is pointed up into the sky. Values for <tilt> are clamped at +180 degrees. ",
            "minimum": 0,
            "maximum": 179
          },
          "heading": {
            "type": "number",
            "minimum": 0,
            "maximum": 359,
            "description": "Direction (that is, North, South, East, West), in degrees. Default=0 (North). (See diagram below.) Values range from 0 to 360 degrees"
          },
          "range": {
            "type": "number",
            "description": "Distance in meters from the point specified by IGeoPosition to the LookAt position"
          }
        }
      }],
      "required": ["tilt", "heading", "range"]
    },
    "IGeoBounds": {
      "type": "object",
      "properties": {
        "minLongitude": {
          "type": "number",
          "minimum": -180,
          "maximum": 180
        },
        "maxLongitude": {
          "type": "number",
          "minimum": -180,
          "maximum": 180
        },
        "maxLatitude": {
          "type": "number",
          "minimum": -90,
          "maximum": 90
        },
        "minLatitude": {
          "type": "number",
          "minimum": -90,
          "maximum": 90
        }
      },
      "required": ["minLongitude", "maxLongitude", "maxLatitude", "minLatitude"]
    },
    "IGeoColor": {
      "type": "object",
      "properties": {
        "red": {
          "type": "number",
          "minimum": 0,
          "maximum": 255
        },
        "green": {
          "type": "number",
          "minimum": 0,
          "maximum": 255
        },
        "blue": {
          "type": "number",
          "minimum": 0,
          "maximum": 255
        },
        "alpha": {
          "type": "number",
          "minimum": 0,
          "maximum": 1
        }
      },
      "required": ["red", "green", "blue", "alpha"]
    },
    "IGeoStrokeStyle": {
      "type": "object",
      "properties": {
        "LineColor": {
          "$ref": "#/definitions/IGeoColor"
        },
        "linePattern": {
          "enum": ["solid", "dashed", "dotted"]
        }
      },
      "required": ["lineColor", "linePattern"]
    },
    "IGeoFillStyle": {
      "type": "object",
      "properties": {
        "fillColor": {
          "$ref": "#/definitions/IGeoColor"
        },
        "fillPattern": {
          "enum": ["solid", "dashed", "dotted"]
        }
      },
      "required": ["fillColor"]
    },
    "IGeoIconStyle": {
      "type": "object",
      "properties": {
        "size": {
          "description": "Size in pixels.  If the icon is not square, the size will represent the larger value of the rectangle",
          "type": "number",
          "minimum": 1
        },
        "offSetX": {
          "description": "X Offest of icon in pixels derived from the lower left point of the icon",
          "type": "number",
          "default": 0
        },
        "offSetY": {
          "description": "X Offest of icon in pixels derived from the lower left point of the icon",
          "type": "number",
          "default": 0
        }
      },
      "required": ["size", "offSetX", "offSetY"]
    },
    "IGeoLabelStyle": {
      "type": "object",
      "properties": {
        "scale": {
          "description": "Multiplier for the size of text displayed as the label",
          "type": "number",
          "default": 1
        },
        "color": {
          "$ref": "#/definitions/IGeoColor"
        }
      },
      "required": ["scale"]
    },
    "IGeoBufferable": {
      "type": "object",
      "description": "Indicates if a buffer object in meters can be applied to a single, or list of positions as an extension outwards from the original position(s)",
      "properties": {
        "buffer": {
          "type": "number"
        }
      },
      "required": ["buffer"]
    },
    "IGeoRotatable": {
      "type": "object",
      "description": "Indicates an angle in degress to rotate the item",
      "properties": {
        "heading": {
          "type": "number",
          "minimum": 0,
          "maximum": 359
        }
      },
      "required": ["heading"]
    },
    "IGeoImage": {
      "type": "object",
      "properties": {
        "description": "Indicates the URL to request the icon image image or dataURI encoding of the icon image embedded as the value defined by RFC 2397 (see https://tools.ietf.org/html/rfc2397)",
        "imageURI": {
          "type": "string"
        },
        "alpha": {
          "type": "number",
          "minimum": 0,
          "maximum": 1
        }
      },
      "required": ["imageURI", "alpha"]
    },
    "IGeoBase": {
      "type": "object",
      "properties": {
        "fpLabel": {
          "type": "string"
        },
        "fpID": {
          "description": "The id value shuld be a UUID (see https://www.ietf.org/rfc/rfc4122.txt) to avoid conflict of data from multiple sources.  All id values SHALL be unique regardless of type and conflicting id values will be treated as the same element",
          "type": "string"
        },
        "fpDescription": {
          "type": "string",
          "default": ""
        }
      },
      "required": ["fpLabel", "fpID", "fpDescription"]
    },
    "IGeoContainer": {
      "type": "object",
      "allOf": [{
        "$ref": "#/definitions/IGeoBase"
      }, {
        "properties": {
          "children": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/IGeoBase"
            }
          }
        },
        "required": ["children"]
      }]
    },
    "IGeoRenderable": {
      "type": "object",
      "allOf": [{
        "$ref": "#/definitions/IGeoPositionList"
      }, {
        "$ref": "#/definitions/IGeoBase"
      }, {
        "properties": {
          "labelStyle": {
            "$ref": "#/definitions/IGeoLabelStyle"
          }
        },
        "required": ["labelStyle"]
      }]
    },
    "IGeoPoint": {
      "allOf": [{
        "$ref": "#/definitions/IGeoRenderable"
      }, {
        "$ref": "#/definitions/IGeoImage"
      }, {
        "$ref": "#/definitions/IGeoBufferable"
      }, {
        "properties": {
          "iconStyle": {
            "$ref": "#/definitions/IGeoIconStyle"
          }
        },
        "required": ["iconStyle"]
      }]
    },
    "IGeoText": {
      "allOf": [{
        "$ref": "#/definitions/IGeoRenderable"
      }]
    },
    "IGeoPath": {
      "allOf": [{
        "$ref": "#/definitions/IGeoRenderable"
      }, {
        "$ref": "#/definitions/IGeoBufferable"
      }, {
        "properties": {
          "strokeStyle": {
            "$ref": "#/definitions/IGeoStrokeStyle"
          },
          "pathMode": {
            "$ref": "#/definitions/IGeoPathMode"
          }
        },
        "required": ["strokeStyle"]
      }]
    },
    "IGeoSurface": {
      "allOf": [{
        "$ref": "#/definitions/IGeoRenderable"
      }, {
        "$ref": "#/definitions/IGeoBufferable"
      }, {
        "properties": {
          "strokeStyle": {
            "$ref": "#/definitions/IGeoStrokeStyle"
          },
          "fillStyle": {
            "$ref": "#/definitions/IGeoFillStyle"
          }
        },
        "required": ["strokeStyle", "fillStyle"]
      }]
    },
    "IGeoPolygon": {
      "allOf": [{
        "$ref": "#/definitions/IGeoSurface"
      }, {
        "$ref": "#/definitions/IGeoBufferable"
      }]
    },
    "IGeoCircle": {
      "allOf": [{
        "$ref": "#/definitions/IGeoSurface"
      }, {
        "properties": {
          "radius": {
            "description": "Radius of the circle in meters",
            "type": "number"
          }
        },
        "required": ["radius"]
      }]
    },
    "IGeoEllipse": {
      "allOf": [{
        "$ref": "#/definitions/IGeoSurface"
      }, {
        "$ref": "#/definitions/IGeoRotatable"
      }, {
        "properties": {
          "majorRadius": {
            "description": "Radius of the ellipse in meters on the x axis (width)",
            "type": "number"
          },
          "minorRadius": {
            "description": "Radius of the ellipse in meters on the y axis (height)",
            "type": "number"
          }
        },
        "required": ["majorRadius", "minorRadius"]
      }]
    },
    "IGeoRectangle": {
      "allOf": [{
        "$ref": "#/definitions/IGeoSurface"
      }, {
        "$ref": "#/definitions/IGeoRotatable"
      }, {
        "properties": {
          "width": {
            "description": "Width of the rectangle in meters on the x axis",
            "type": "number"
          },
          "height": {
            "description": "Height of the rectangle in meters on the y axis",
            "type": "number"
          }
        },
        "required": ["majorRadius", "minorRadius"]
      }]
    },
    "IGeoSquare": {
      "allOf": [{
        "$ref": "#/definitions/IGeoSurface"
      }, {
        "$ref": "#/definitions/IGeoRotatable"
      }, {
        "properties": {
          "width": {
            "description": "Width of the square in meters on the x axis ",
            "type": "number"
          }
        },
        "required": ["radius"]
      }]
    },
    "IGeoImageOverlay": {
      "allOf": [{
        "$ref": "#/definitions/IGeoRenderable"
      }, {
        "$ref": "#/definitions/IGeoImage"
      }]
    },
    "IGeoMilModifier": {
      "type": "object",
      "description": "Defines a specific modifier from MIL-STD-2525 based on an enumeration of options",
      "properties": {
        "milModifierName": {
          "desciption": "Value of the MIL-STD-2525 modifier name from an enumeration of options",
          "enum": ["A", "B", "C", "D", "E", "F", "G", "H", "H1", "H2", "J", "K", "L", "M", "N", "P", "Q", "R", "R2", "S", "T", "T1", "V", "W", "W1", "X", "Y", "AA", "AB", "AC", "AD", "AE", "AF", "AG", "AH", "AI", "AJ", "AK", "AL", "AM", "AN", "AO", "CC", "CN", "SCC"]
        },
        "value": {
          "description": "MIL-STD-2525 modifier values often allow for multiple types such as in one case a single integer which can also be repsresented as an array of integers.  In order to avoid exterme complication and consitional logic in a schema, the value can be represented as a JSON simple type.  The MIL-STD-2525 rendering solution can translate the JSON sting into the appropriate runtime data type",
          "type": "string"
        }
      }
    },
    "IGeoAirControlMeasureModifier": {
      "type": "object",
      "properties": {
        "acmModifierName": {
          "enum": ["RADIUS", "INNER_RADIUS", "TURN", "MIN_ALT", "MAX_ALT", "LEFT_AZIMUTH", "RIGHT_AZIMUTH", "WIDTH", "LEFT_WIDTH", "RIGHT_WIDTH"]
        },
        "value": {
          "description": "",
          "type": "string"
        }
      }
    },
    "IGeoMilSymbol": {
      "allOf": [{
        "$ref": "#/definitions/IGeoRenderable"
      }, {
        "properties": {
          "symbolStandard": {
            "description": "Version of the MIL-STD-2525 standard to use",
            "enum": ["MIL_STD_2525C", "MIL_STD_2525B"],
            "type": "string"
          },
          "symbolCode": {
            "description": "Symbol code as defined by MIL-STD-2525",
            "type": "string"
          },
          "modifiers": {
            "type": "array",
            "description": "List of modifiers elements defining symbol per MIL-STD-2525",
            "items": {
              "$ref": "#/definitions/IGeoMilModifier"
            }
          }
        },
        "required": ["symbolStandard", "symbolCode", "modifiers"]
      }]
    },
    "AirControlMeasure": {
      "allOf": [{
        "$ref": "#/definitions/IGeoSurface"
      }, {
        "properties": {
          "acmType": {
            "description": "Symbol code as defined by MIL-STD-2525",
            "enum": ["ROUTE", "CYLINDER", "ORBIT", "POLYGON", "RADARC", "POLYARC", "TRACK", "CURTAIN"]
          },
          "acmAttributes": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/IGeoAirControlMeasureModifier"
            }
          }
        },
        "required": ["acmType", "acmAttributes"]
      }]
    },
    "IGeoDocument": {
      "description": "",
      "allOf": [{
        "$ref": "#/definitions/IGeoBase"
      }, {
        "properties": {
          "documentURI": {
            "description": "URL the document should be loaded from, or a dataURI encoding of the resource embedded as the value defined by RFC 2397 (see https://tools.ietf.org/html/rfc2397)",
            "type": "string"
          },
          "documentType": {
            "description": "Type of document",
            "enum": ["KML", "GEOJSON"]
          }
        },
        "required": ["documentURI", "documentType"]
      }]
    }
  },
  "type": "object",
  "anyOf": [{
    "$ref": "#/definitions/IGeoContainer"
  }, {
    "$ref": "#/definitions/IGeoRenderable"
  }, {
    "$ref": "#/definitions/IGeoPoint"
  }, {
    "$ref": "#/definitions/IGeoPath"
  }, {
    "$ref": "#/definitions/IGeoPolygon"
  }, {
    "$ref": "#/definitions/IGeoRectangle"
  }, {
    "$ref": "#/definitions/IGeoSquare"
  },{
    "$ref": "#/definitions/IGeoCircle"
  },{
    "$ref": "#/definitions/IGeoEllipse"
  }, {
    "$ref": "#/definitions/IGeoImageOverlay"
  }, {
    "$ref": "#/definitions/IGeoDocument"
  }, {
    "$ref": "#/definitions/IGeoMilSymbol"
  }, {
    "$ref": "#/definitions/IGeoAirControlMeasure"
  }]
}
